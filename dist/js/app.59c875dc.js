(function(t){function e(e){for(var n,a,r=e[0],o=e[1],u=e[2],d=0,b=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&b.push(s[a][0]),s[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(b.length)b.shift()();return i.push.apply(i,u||[]),c()}function c(){for(var t,e=0;e<i.length;e++){for(var c=i[e],n=!0,r=1;r<c.length;r++){var o=c[r];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=c[0]))}return t}var n={},s={app:0},i=[];function a(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=t,a.c=n,a.d=function(t,e,c){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(c,n,function(e){return t[e]}.bind(null,n));return c},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=o;i.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"01eb":function(t,e,c){},"35a8":function(t,e,c){t.exports=c.p+"img/fac-escalator.c4e8b1be.svg"},"3e7c":function(t,e,c){"use strict";c("50f1")},4674:function(t,e,c){},"50f1":function(t,e,c){},"52a7":function(t,e,c){"use strict";c("afc6")},5440:function(t,e,c){t.exports=c.p+"img/line-TRA.ff4616cc.svg"},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function s(t,e){var c=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])(c)}c("3e7c");const i={};i.render=s;var a=i,r=c("6c02"),o=(c("b0c0"),c("5440")),u=c.n(o),l=c("bd0f"),d=c.n(l),b={class:"map"},j={class:"detail-sheet"},f={class:"ds-header"},O={class:"ds-currentstation"},g={style:{display:"flex"}},p={class:"ds-station"},v={style:{display:"flex"}},m={src:u.a},h={style:{"margin-left":"8px"},src:d.a},y={class:"ds-nav"},k=Object(n["f"])("旅程規劃"),x=Object(n["f"])("車站資訊"),w=Object(n["f"])("轉乘資訊"),S={class:"map-view"};function C(t,e,c,s,i,a){var r=Object(n["w"])("router-link"),o=Object(n["w"])("router-view"),u=Object(n["w"])("RouteMap");return Object(n["p"])(),Object(n["d"])("div",b,[Object(n["g"])("div",j,[Object(n["g"])("div",f,[Object(n["g"])("div",O,[Object(n["g"])("div",g,[Object(n["g"])("img",{class:"ds-num",src:a.selected.src},null,8,["src"]),Object(n["g"])("div",p,[Object(n["g"])("h3",null,Object(n["y"])(a.selected.name),1),Object(n["g"])("p",null,Object(n["y"])(a.selected.line),1)])]),Object(n["g"])("div",v,[Object(n["D"])(Object(n["g"])("img",m,null,512),[[n["A"],a.selected.tra]]),Object(n["D"])(Object(n["g"])("img",h,null,512),[[n["A"],a.selected.hsr]])])]),Object(n["g"])("div",y,[Object(n["g"])(r,{to:"/#",class:"ds-nav-item",replace:""},{default:Object(n["C"])((function(){return[k]})),_:1}),Object(n["g"])(r,{to:"/facilities",class:"ds-nav-item",replace:""},{default:Object(n["C"])((function(){return[x]})),_:1}),Object(n["g"])(r,{to:"/transfer",class:"ds-nav-item",replace:""},{default:Object(n["C"])((function(){return[w]})),_:1})])]),Object(n["g"])(o,{class:"ds-nav-view"})]),Object(n["g"])("div",S,[Object(n["g"])(u)])])}c("7db0");var R=c("5502"),_=c("bc3a"),B=c.n(_),I="https://taichungmetro-github-default-rtdb.firebaseio.com/",A=B.a.create({baseURL:I,withCredentials:!1,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),P={getRoute:function(){return A.get("./routes.json")},getStation:function(t){return A.get("/StationInfos/".concat(t,".json"))},getYouBikeStat:function(){return B.a.get("https://datacenter.taichung.gov.tw/swagger/OpenData/9af00e84-473a-4f3d-99be-b875d8e86256")}},Y=Object(R["a"])({state:{selected:"110",database:{},current:{},bikes:{}},mutations:{loadData:function(t,e){t.database=e},clearCurrent:function(t){t.current=null},loadCurrent:function(t,e){t.current=e},mountYoubike:function(t,e){t.bikes=e}},actions:{initRoute:function(){var t=this;P.getRoute().then((function(e){var c=e.data;t.commit("loadData",c)})).catch((function(t){return console.log(t)}))},selection:function(t,e){P.getStation(e).then((function(e){t.commit("clearCurrent"),t.commit("loadCurrent",e.data)}))},getYoubike:function(){var t=this;P.getYouBikeStat().then((function(e){return t.commit("mountYoubike",e.data.retVal)})).catch((function(t){return console.log(t)}))}},getters:{getBikesById:function(t){return function(e){return t.bikes.find((function(t){return t.sno===e}))}}},modules:{}}),D=Object(n["E"])("data-v-72ec204a");Object(n["s"])("data-v-72ec204a");var M={class:"route"},q={class:"route-map",id:"routemap"},T={class:"route-bg"};Object(n["q"])();var z=D((function(t,e,c,s,i,a){return Object(n["p"])(),Object(n["d"])("div",M,[Object(n["g"])("div",q,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(a.Routes,(function(t){return Object(n["p"])(),Object(n["d"])("div",{key:t.id},[Object(n["g"])("div",T,[Object(n["g"])("img",{src:t.path,alt:""},null,8,["src"])]),(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(t.stations,(function(e){return Object(n["p"])(),Object(n["d"])("div",{class:"route-station",key:e.id,style:{top:"".concat(e.position.top),left:"".concat(e.position.left)},onClick:function(t){return a.selectStation(e.id)}},[Object(n["g"])("span",{class:["route-station-dot",{hasTransit:e.transit}],style:{borderColor:"".concat(t.color)}},null,6),Object(n["g"])("div",{class:["route-station-tag","".concat(e.position.tag)]},Object(n["y"])(e.zh),3)],12,["onClick"])})),128))])})),128))])])})),J=c("7d05"),Z=c.n(J),E={created:function(){this.$store.dispatch("initRoute"),this.$store.dispatch("getYoubike"),this.selectStation(104)},mounted:function(){this.panzoom=Z()(document.querySelector("#routemap"),{bounds:!0,smoothScroll:!1,minZoom:.5,maxZoom:2,initialZoom:.75})},data:function(){return{}},methods:{selectStation:function(t){Y.dispatch("selection",t)}},computed:{Routes:function(){return Y.state.database}}};c("52a7");E.render=z,E.__scopeId="data-v-72ec204a";var H=E,L={components:{RouteMap:H},data:function(){return{}},mounted:function(){},methods:{getStationInfo:function(t){var e=this;P.getStation(t).then((function(t){return e.current=t.data})).catch((function(t){return console.log(t)}))}},computed:{Routes:function(){return Y.state.database},selected:function(){return Y.state.current}},watch:{}};c("af65");L.render=C;var $=L,F=c("ca69"),K=c.n(F),U=c("35a8"),V=c.n(U),W=c("c5c4"),G=c.n(W),N={key:0,class:"ds-list"},Q=Object(n["g"])("div",{class:"ds-list-header"},"首末班車",-1),X={class:"ds-schedule"},tt={class:"ds-schedule-via"},et={class:"ds-schedule-name"},ct={style:{display:"flex","margin-right":"16px"}},nt={class:"ds-time"},st=Object(n["g"])("span",{class:"ds-badge"},"首",-1),it={class:"ds-time"},at=Object(n["g"])("span",{class:"ds-badge"},"末",-1),rt=Object(n["g"])("div",{class:"ds-list-header"},"出入口資訊",-1),ot={class:"ds-exit"},ut={class:"ds-exit-name"},lt={class:"ds-exit-type-group"},dt={key:0,src:K.a},bt={key:1,src:V.a},jt={key:2,src:G.a},ft=Object(n["g"])("div",{class:"ds-list-header"},"車站設施",-1),Ot={class:"ds-service-img"},gt={class:"ds-service-name"},pt=Object(n["g"])("div",{class:"ds-list-footer"},null,-1);function vt(t,e,c,s,i,a){return null!==a.selected.line?(Object(n["p"])(),Object(n["d"])("div",N,[Q,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(a.selected.servicetime,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item ds-list-schedule",key:t.to},[Object(n["g"])("div",X,[Object(n["g"])("div",tt,[Object(n["g"])("img",{src:t.via},null,8,["src"])]),Object(n["g"])("div",et,[Object(n["g"])("h3",null,"往"+Object(n["y"])(t.to),1)])]),Object(n["g"])("div",ct,[Object(n["g"])("div",nt,[st,Object(n["f"])(Object(n["y"])(t.first),1)]),Object(n["g"])("div",it,[at,Object(n["f"])(Object(n["y"])(t.last),1)])])])})),128))]),rt,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(a.selected.exits,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item ds-list-exit",key:t.num},[Object(n["g"])("div",ot,[Object(n["g"])("img",{class:"ds-exit-num",src:t.src,alt:""},null,8,["src"]),Object(n["g"])("div",ut,[Object(n["g"])("h3",null,Object(n["y"])(t.name),1),Object(n["g"])("p",null,Object(n["y"])(t.hints),1)])]),Object(n["g"])("div",lt,[t.stair?(Object(n["p"])(),Object(n["d"])("img",dt)):Object(n["e"])("",!0),t.escalator?(Object(n["p"])(),Object(n["d"])("img",bt)):Object(n["e"])("",!0),t.elevator?(Object(n["p"])(),Object(n["d"])("img",jt)):Object(n["e"])("",!0)])])})),128))]),ft,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(a.selected.services,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item",key:t.name},[Object(n["g"])("div",Ot,[Object(n["g"])("img",{src:t.src,alt:""},null,8,["src"])]),Object(n["g"])("div",gt,[Object(n["g"])("h3",null,Object(n["y"])(t.name),1),Object(n["g"])("p",null,Object(n["y"])(t.position),1)])])})),128))]),pt])):Object(n["e"])("",!0)}var mt={data:function(){return{}},mounted:function(){},methods:{getStationInfo:function(t){var e=this;P.getStation(t).then((function(t){return e.current=t.data})).catch((function(t){return console.log(t)}))}},computed:{Routes:function(){return Y.state.database},selected:function(){return Y.state.current}},watch:{}};c("77bc");mt.render=vt;var ht=mt,yt=(c("fb6a"),c("cd44")),kt=c.n(yt),xt=Object(n["E"])("data-v-5ba597a9");Object(n["s"])("data-v-5ba597a9");var wt={class:"ds-list"},St=Object(n["g"])("div",{class:"ds-list-header"},"停車場",-1),Ct=Object(n["g"])("ul",null,null,-1),Rt=Object(n["g"])("div",{class:"ds-list-header"},"iBike微笑單車",-1),_t={class:"ds-list-item ds-list-ibike"},Bt={class:"ds-service-img",style:{display:"flex","align-items":"center"}},It=Object(n["g"])("img",{src:kt.a,alt:""},null,-1),At={class:"ds-service-name"},Pt={class:"ds-ibike-status"},Yt={class:"ds-ibike-rentable"},Dt=Object(n["g"])("div",{class:"ds-list-header"},"公車轉乘",-1),Mt=Object(n["g"])("ul",null,null,-1);Object(n["q"])();var qt=xt((function(t,e,c,s,i,a){return Object(n["p"])(),Object(n["d"])("div",wt,[St,Ct,Rt,Object(n["g"])("ul",null,[Object(n["g"])("li",_t,[Object(n["g"])("div",Bt,[It,Object(n["g"])("div",At,Object(n["y"])(a.filterBike.sna.slice(11)),1)]),Object(n["g"])("div",Pt,[Object(n["g"])("span",Yt,Object(n["y"])(a.filterBike.sbi),1),Object(n["f"])("/"+Object(n["y"])(a.filterBike.tot),1)])])]),Dt,Mt])})),Tt={data:function(){return{}},computed:{bikes:function(){return Y.state.bikes},filterBike:function(){var t=Y.state.current.bike;return Y.getters.getBikesById("".concat(t))}}};c("72e3");Tt.render=qt,Tt.__scopeId="data-v-5ba597a9";var zt=Tt,Jt=[{path:"/",name:"Home",component:$,children:[{name:"facilities",path:"facilities",component:ht},{name:"transfer",path:"transfer",component:zt}]}],Zt=Object(r["a"])({history:Object(r["b"])(),routes:Jt}),Et=Zt,Ht=(c("4674"),c("260b")),Lt={apiKey:"AIzaSyAh-cvnsYbIP4Oor2qj5g7FlxpJr83qWL8",authDomain:"taichungmetro-github.firebaseapp.com",projectId:"taichungmetro-github",storageBucket:"taichungmetro-github.appspot.com",messagingSenderId:"571532253123",appId:"1:571532253123:web:57b30736f2c5d13e180f76"};Ht["a"].initializeApp(Lt),Object(n["c"])(a).use(Y).use(Et).mount("#app")},"59d4":function(t,e,c){},"72e3":function(t,e,c){"use strict";c("01eb")},"77bc":function(t,e,c){"use strict";c("784c")},"784c":function(t,e,c){},af65:function(t,e,c){"use strict";c("59d4")},afc6:function(t,e,c){},bd0f:function(t,e,c){t.exports=c.p+"img/line-HSR.4e6684b8.svg"},c5c4:function(t,e,c){t.exports=c.p+"img/fac-elevator.1c1cec4d.svg"},ca69:function(t,e,c){t.exports=c.p+"img/fac-stair.e8a31540.svg"},cd44:function(t,e,c){t.exports=c.p+"img/ibike.0cd454c1.svg"}});
//# sourceMappingURL=app.59c875dc.js.map
(function(t){function e(e){for(var n,i,r=e[0],o=e[1],u=e[2],d=0,b=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&b.push(s[i][0]),s[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),c()}function c(){for(var t,e=0;e<a.length;e++){for(var c=a[e],n=!0,r=1;r<c.length;r++){var o=c[r];0!==s[o]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=c[0]))}return t}var n={},s={app:0},a=[];function i(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=t,i.c=n,i.d=function(t,e,c){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(c,n,function(e){return t[e]}.bind(null,n));return c},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=o;a.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"01eb":function(t,e,c){},3237:function(t,e,c){},"35a8":function(t,e,c){t.exports=c.p+"img/fac-escalator.c4e8b1be.svg"},"3e7c":function(t,e,c){"use strict";c("50f1")},4674:function(t,e,c){},"50f1":function(t,e,c){},5440:function(t,e,c){t.exports=c.p+"img/line-TRA.ff4616cc.svg"},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function s(t,e){var c=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])(c)}c("3e7c");const a={};a.render=s;var i=a,r=c("6c02"),o=(c("b0c0"),c("5440")),u=c.n(o),l=c("bd0f"),d=c.n(l),b={class:"map"},f={class:"detail-sheet"},O={class:"ds-header"},j={class:"ds-currentstation"},g={style:{display:"flex"}},p={class:"ds-station"},v={style:{display:"flex"}},m={src:u.a},h={style:{"margin-left":"8px"},src:d.a},y={class:"ds-nav"},k=Object(n["f"])("旅程規劃"),S=Object(n["f"])("車站資訊"),x=Object(n["f"])("轉乘資訊"),w={class:"map-view"};function D(t,e,c,s,a,i){var r=Object(n["w"])("router-link"),o=Object(n["w"])("router-view"),u=Object(n["w"])("RouteMap");return Object(n["p"])(),Object(n["d"])("div",b,[Object(n["g"])("div",f,[Object(n["g"])("div",O,[Object(n["g"])("div",j,[Object(n["g"])("div",g,[Object(n["g"])("img",{class:"ds-num",src:i.selected.src},null,8,["src"]),Object(n["g"])("div",p,[Object(n["g"])("h3",null,Object(n["y"])(i.selected.name),1),Object(n["g"])("p",null,Object(n["y"])(i.selected.line),1)])]),Object(n["g"])("div",v,[Object(n["D"])(Object(n["g"])("img",m,null,512),[[n["A"],i.selected.tra]]),Object(n["D"])(Object(n["g"])("img",h,null,512),[[n["A"],i.selected.hsr]])])]),Object(n["g"])("div",y,[Object(n["g"])(r,{to:"/fare",class:"ds-nav-item",replace:""},{default:Object(n["C"])((function(){return[k]})),_:1}),Object(n["g"])(r,{to:"/facilities",class:"ds-nav-item",replace:""},{default:Object(n["C"])((function(){return[S]})),_:1}),Object(n["g"])(r,{to:"/transfer",class:"ds-nav-item",replace:""},{default:Object(n["C"])((function(){return[x]})),_:1})])]),Object(n["g"])(o,{class:"ds-nav-view"})]),Object(n["g"])("div",w,[Object(n["g"])(u)])])}c("7db0");var C=c("5502"),M=(c("99af"),c("bc3a")),F=c.n(M),I="https://taichungmetro-github-default-rtdb.firebaseio.com/",R=F.a.create({baseURL:I,withCredentials:!1,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),_={getRoute:function(){return R.get("./routes.json")},getStation:function(t){return R.get("/StationInfos/".concat(t,".json"))},getYouBikeStat:function(){return F.a.get("https://datacenter.taichung.gov.tw/swagger/OpenData/9af00e84-473a-4f3d-99be-b875d8e86256")},getFare:function(t,e){if(t!==e)return F.a.get("https://ptx.transportdata.tw/MOTC/v2/Rail/Metro/ODFare/TMRT?$filter=OriginStationID%20eq%20'".concat(t,"'%20and%20DestinationStationID%20eq%20'").concat(e,"'&$format=JSON"))}},T=Object(C["a"])({state:{dest:"109",selected:"110",database:{},current:{},bikes:{},fareSearchMode:!1},mutations:{loadData:function(t,e){t.database=e},clearCurrent:function(t){t.current=null},loadCurrent:function(t,e){t.current=e},setCurrentID:function(t,e){t.selected=e},mountYoubike:function(t,e){t.bikes=e},setFareMode:function(t){t.fareSearchMode=!0},unsetFareMode:function(t){t.fareSearchMode=!1},setDest:function(t,e){t.dest=e}},actions:{initRoute:function(){var t=this;_.getRoute().then((function(e){var c=e.data;t.commit("loadData",c)})).catch((function(t){return console.log(t)}))},selection:function(t,e){_.getStation(e).then((function(c){t.commit("clearCurrent"),t.commit("setCurrentID",e),t.commit("loadCurrent",c.data)}))},setFareMode:function(){this.commit("setFareMode")},clearFareMode:function(){this.commit("unsetFareMode")},setDest:function(t,e){t.commit("setDest",e)},getYoubike:function(){var t=this;_.getYouBikeStat().then((function(e){return t.commit("mountYoubike",e.data.retVal)})).catch((function(t){return console.log(t)}))}},getters:{getBikesById:function(t){return function(e){return t.bikes.find((function(t){return t.sno===e}))}}},modules:{}}),B=Object(n["E"])("data-v-75b897e2");Object(n["s"])("data-v-75b897e2");var $={class:"route"},A={class:"route-map",id:"routemap"},P={class:"route-bg"};Object(n["q"])();var q=B((function(t,e,c,s,a,i){return Object(n["p"])(),Object(n["d"])("div",$,[Object(n["g"])("div",A,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(i.Routes,(function(t){return Object(n["p"])(),Object(n["d"])("div",{key:t.id},[Object(n["g"])("div",P,[Object(n["g"])("img",{src:t.path,alt:""},null,8,["src"])]),(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(t.stations,(function(e,c){return Object(n["p"])(),Object(n["d"])("div",{class:"route-station",key:e.id,style:{top:"".concat(e.position.top),left:"".concat(e.position.left)},onClick:function(t){return i.selectStation(c)}},[Object(n["g"])("span",{class:["route-station-dot",{hasTransit:e.transit}],style:{borderColor:"".concat(t.color)}},null,6),Object(n["g"])("div",{class:["route-station-tag","".concat(e.position.tag)]},Object(n["y"])(e.zh),3)],12,["onClick"])})),128))])})),128))])])})),Y=c("7d05"),z=c.n(Y),J={created:function(){this.$store.dispatch("initRoute"),this.$store.dispatch("getYoubike"),this.selectStation(104)},mounted:function(){this.panzoom=z()(document.querySelector("#routemap"),{bounds:!0,smoothScroll:!1,minZoom:.5,maxZoom:2,initialZoom:.75})},data:function(){return{}},methods:{selectStation:function(t){if("fare"===this.$route.name)return console.log(t),void T.dispatch("setDest",t);T.dispatch("selection",t)}},computed:{Routes:function(){return T.state.database}}};c("5a4e");J.render=q,J.__scopeId="data-v-75b897e2";var E=J,Z={components:{RouteMap:E},data:function(){return{}},mounted:function(){},methods:{getStationInfo:function(t){var e=this;_.getStation(t).then((function(t){return e.current=t.data})).catch((function(t){return console.log(t)}))}},computed:{Routes:function(){return T.state.database},selected:function(){return T.state.current}},watch:{}};c("cba4");Z.render=D;var H=Z,L=c("ca69"),K=c.n(L),N=c("35a8"),U=c.n(N),V=c("c5c4"),W=c.n(V),G={key:0,class:"ds-list"},Q=Object(n["g"])("div",{class:"ds-list-header"},"首末班車",-1),X={class:"ds-schedule"},tt={class:"ds-schedule-via"},et={class:"ds-schedule-name"},ct={style:{display:"flex","margin-right":"16px"}},nt={class:"ds-time"},st=Object(n["g"])("span",{class:"ds-badge"},"首",-1),at={class:"ds-time"},it=Object(n["g"])("span",{class:"ds-badge"},"末",-1),rt=Object(n["g"])("div",{class:"ds-list-header"},"出入口資訊",-1),ot={class:"ds-exit"},ut={class:"ds-exit-name"},lt={class:"ds-exit-type-group"},dt={key:0,src:K.a},bt={key:1,src:U.a},ft={key:2,src:W.a},Ot=Object(n["g"])("div",{class:"ds-list-header"},"車站設施",-1),jt={class:"ds-service-img"},gt={class:"ds-service-name"},pt=Object(n["g"])("div",{class:"ds-list-footer"},null,-1);function vt(t,e,c,s,a,i){return null!==i.selected.line?(Object(n["p"])(),Object(n["d"])("div",G,[Q,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(i.selected.servicetime,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item ds-list-schedule",key:t.to},[Object(n["g"])("div",X,[Object(n["g"])("div",tt,[Object(n["g"])("img",{src:t.via},null,8,["src"])]),Object(n["g"])("div",et,[Object(n["g"])("h3",null,"往"+Object(n["y"])(t.to),1)])]),Object(n["g"])("div",ct,[Object(n["g"])("div",nt,[st,Object(n["f"])(Object(n["y"])(t.first),1)]),Object(n["g"])("div",at,[it,Object(n["f"])(Object(n["y"])(t.last),1)])])])})),128))]),rt,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(i.selected.exits,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item ds-list-exit",key:t.num},[Object(n["g"])("div",ot,[Object(n["g"])("img",{class:"ds-exit-num",src:t.src,alt:""},null,8,["src"]),Object(n["g"])("div",ut,[Object(n["g"])("h3",null,Object(n["y"])(t.name),1),Object(n["g"])("p",null,Object(n["y"])(t.hints),1)])]),Object(n["g"])("div",lt,[t.stair?(Object(n["p"])(),Object(n["d"])("img",dt)):Object(n["e"])("",!0),t.escalator?(Object(n["p"])(),Object(n["d"])("img",bt)):Object(n["e"])("",!0),t.elevator?(Object(n["p"])(),Object(n["d"])("img",ft)):Object(n["e"])("",!0)])])})),128))]),Ot,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(i.selected.services,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item",key:t.name},[Object(n["g"])("div",jt,[Object(n["g"])("img",{src:t.src,alt:""},null,8,["src"])]),Object(n["g"])("div",gt,[Object(n["g"])("h3",null,Object(n["y"])(t.name),1),Object(n["g"])("p",null,Object(n["y"])(t.position),1)])])})),128))]),pt])):Object(n["e"])("",!0)}var mt={data:function(){return{}},mounted:function(){},methods:{getStationInfo:function(t){var e=this;_.getStation(t).then((function(t){return e.current=t.data})).catch((function(t){return console.log(t)}))}},computed:{Routes:function(){return T.state.database},selected:function(){return T.state.current}},watch:{}};c("77bc");mt.render=vt;var ht=mt,yt=(c("fb6a"),c("cd44")),kt=c.n(yt),St=Object(n["E"])("data-v-5ba597a9");Object(n["s"])("data-v-5ba597a9");var xt={class:"ds-list"},wt=Object(n["g"])("div",{class:"ds-list-header"},"停車場",-1),Dt=Object(n["g"])("ul",null,null,-1),Ct=Object(n["g"])("div",{class:"ds-list-header"},"iBike微笑單車",-1),Mt={class:"ds-list-item ds-list-ibike"},Ft={class:"ds-service-img",style:{display:"flex","align-items":"center"}},It=Object(n["g"])("img",{src:kt.a,alt:""},null,-1),Rt={class:"ds-service-name"},_t={class:"ds-ibike-status"},Tt={class:"ds-ibike-rentable"},Bt=Object(n["g"])("div",{class:"ds-list-header"},"公車轉乘",-1),$t=Object(n["g"])("ul",null,null,-1);Object(n["q"])();var At=St((function(t,e,c,s,a,i){return Object(n["p"])(),Object(n["d"])("div",xt,[wt,Dt,Ct,Object(n["g"])("ul",null,[Object(n["g"])("li",Mt,[Object(n["g"])("div",Ft,[It,Object(n["g"])("div",Rt,Object(n["y"])(i.filterBike.sna.slice(11)),1)]),Object(n["g"])("div",_t,[Object(n["g"])("span",Tt,Object(n["y"])(i.filterBike.sbi),1),Object(n["f"])("/"+Object(n["y"])(i.filterBike.tot),1)])])]),Bt,$t])})),Pt={data:function(){return{}},computed:{bikes:function(){return T.state.bikes},filterBike:function(){var t=T.state.current.bike;return T.getters.getBikesById("".concat(t))}}};c("72e3");Pt.render=At,Pt.__scopeId="data-v-5ba597a9";var qt=Pt,Yt=Object(n["E"])("data-v-553a382a");Object(n["s"])("data-v-553a382a");var zt={class:"ds-list"},Jt=Object(n["g"])("div",{class:"ds-list-header"},"票價資訊",-1),Et=Object(n["g"])("div",{class:"ds-list-header"},"旅程時間",-1),Zt={class:"ds-list-item"};Object(n["q"])();var Ht=Yt((function(t,e,c,s,a,i){return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("button",{onClick:e[1]||(e[1]=function(){return i.searchFare&&i.searchFare.apply(i,arguments)})},"搜尋"),Object(n["g"])("div",zt,[Jt,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(a.fareData.Fares,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item",key:t},Object(n["y"])(a.fareType[t.TicketType-1])+Object(n["y"])(a.fareClass[t.FareClass-1])+","+Object(n["y"])(t.Price)+"元",1)})),128))]),Et,Object(n["g"])("ul",null,[Object(n["g"])("li",Zt,"旅程時間： "+Object(n["y"])(a.fareData.TravelTime)+"分",1)])])],64)})),Lt={mounted:function(){this.$store.dispatch("setFareMode")},unmounted:function(){this.$store.dispatch("clearFareMode")},data:function(){return{fareData:{},fareType:["一般","來回","電子票證","回數","定期(30天)","定期(60天)"],fareClass:["成人票","學生票","孩童票","敬老票","愛心票","愛心孩童票","愛心陪伴票","團體票"]}},methods:{searchFare:function(){var t=this;this.$store.state.selected!==this.$store.state.dest?_.getFare(this.$store.state.selected,this.$store.state.dest).then((function(e){return t.fareData=e.data[0]})):alert("請選擇與起點不同的車站")}},computed:{selectedDest:function(){return T.state.dest}}};Lt.render=Ht,Lt.__scopeId="data-v-553a382a";var Kt=Lt,Nt=[{path:"/",name:"Home",component:H,children:[{name:"fare",path:"fare",component:Kt},{name:"facilities",path:"facilities",component:ht},{name:"transfer",path:"transfer",component:qt}]}],Ut=Object(r["a"])({history:Object(r["b"])(),routes:Nt}),Vt=Ut,Wt=(c("4674"),c("260b")),Gt={apiKey:"AIzaSyAh-cvnsYbIP4Oor2qj5g7FlxpJr83qWL8",authDomain:"taichungmetro-github.firebaseapp.com",projectId:"taichungmetro-github",storageBucket:"taichungmetro-github.appspot.com",messagingSenderId:"571532253123",appId:"1:571532253123:web:57b30736f2c5d13e180f76"};Wt["a"].initializeApp(Gt),Object(n["c"])(i).use(T).use(Vt).mount("#app")},"5a4e":function(t,e,c){"use strict";c("81de")},"72e3":function(t,e,c){"use strict";c("01eb")},"77bc":function(t,e,c){"use strict";c("784c")},"784c":function(t,e,c){},"81de":function(t,e,c){},bd0f:function(t,e,c){t.exports=c.p+"img/line-HSR.4e6684b8.svg"},c5c4:function(t,e,c){t.exports=c.p+"img/fac-elevator.1c1cec4d.svg"},ca69:function(t,e,c){t.exports=c.p+"img/fac-stair.e8a31540.svg"},cba4:function(t,e,c){"use strict";c("3237")},cd44:function(t,e,c){t.exports=c.p+"img/ibike.0cd454c1.svg"}});
//# sourceMappingURL=app.63ce71f1.js.map
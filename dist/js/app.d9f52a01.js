(function(t){function e(e){for(var n,s,r=e[0],o=e[1],l=e[2],d=0,b=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&b.push(a[s][0]),a[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(b.length)b.shift()();return i.push.apply(i,l||[]),c()}function c(){for(var t,e=0;e<i.length;e++){for(var c=i[e],n=!0,r=1;r<c.length;r++){var o=c[r];0!==a[o]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=c[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=t,s.c=n,s.d=function(t,e,c){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(c,n,function(e){return t[e]}.bind(null,n));return c},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=o;i.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"01eb":function(t,e,c){},"25df":function(t,e,c){},"2b5b":function(t,e,c){"use strict";c("ce89")},"35a8":function(t,e,c){t.exports=c.p+"img/fac-escalator.c4e8b1be.svg"},"3e7c":function(t,e,c){"use strict";c("50f1")},4674:function(t,e,c){},"50f1":function(t,e,c){},5440:function(t,e,c){t.exports=c.p+"img/line-TRA.ff4616cc.svg"},5552:function(t,e,c){},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function a(t,e){var c=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])(c)}c("3e7c");const i={};i.render=a;var s=i,r=c("6c02"),o=c("bd0f"),l=c.n(o),u=c("5440"),d=c.n(u),b={class:"map"},f={class:"detail-sheet"},O={class:"ds-header"},j={class:"ds-currentstation"},g={style:{display:"flex"}},p={class:"ds-station"},v={style:{display:"flex"}},m={src:l.a,alt:""},h={src:d.a,style:{"margin-left":"8px"},alt:""},y={class:"ds-nav"},S=Object(n["f"])("設為抵達站"),k=Object(n["f"])("站點資訊"),w=Object(n["g"])("button",{class:"ds-nav-item",to:"#"},"轉乘資訊",-1),x={class:"map-view"};function I(t,e,c,a,i,s){var r=Object(n["w"])("router-link"),o=Object(n["w"])("router-view"),l=Object(n["w"])("RouteMap");return Object(n["p"])(),Object(n["d"])("div",b,[Object(n["D"])(Object(n["g"])("div",f,[Object(n["g"])("div",O,[Object(n["g"])("div",j,[Object(n["g"])("div",g,[Object(n["g"])("img",{class:"ds-num",src:s.current.path},null,8,["src"]),Object(n["g"])("div",p,[Object(n["g"])("h3",null,Object(n["y"])(s.current.zh),1)])]),Object(n["g"])("div",v,[Object(n["D"])(Object(n["g"])("img",m,null,512),[[n["A"],"HSR Taichung Station"===s.current.en]]),Object(n["D"])(Object(n["g"])("img",h,null,512),[[n["A"],s.current.transit]])])]),Object(n["g"])("div",y,[Object(n["g"])("button",{class:"ds-nav-item",onClick:e[1]||(e[1]=function(t){return s.setOrigin(s.current.uid)})},"設為啟程站"),Object(n["g"])(r,{to:"/fare",class:"ds-nav-item",onClick:e[2]||(e[2]=function(t){return s.setDest(s.current.uid)})},{default:Object(n["C"])((function(){return[S]})),_:1}),Object(n["g"])(r,{to:"/facilities",class:"ds-nav-item",replace:""},{default:Object(n["C"])((function(){return[k]})),_:1}),w])]),Object(n["g"])(o,{class:"ds-nav-view"})],512),[[n["A"],t.$store.state.current]]),Object(n["g"])("div",x,[Object(n["g"])(l)])])}c("7db0");var D=c("5502"),F=(c("99af"),c("bc3a")),R=c.n(F),_="https://taichungmetro-github-default-rtdb.firebaseio.com/",C=R.a.create({baseURL:_,withCredentials:!1,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),T={getRoute:function(){return C.get("./routes.json")},getStationInfo:function(t){return C.get("/StationInfos/".concat(t,".json"))},getYouBikeStat:function(){return R.a.get("https://datacenter.taichung.gov.tw/swagger/OpenData/9af00e84-473a-4f3d-99be-b875d8e86256")},getFare:function(t,e){if(t!==e)return R.a.get("https://ptx.transportdata.tw/MOTC/v2/Rail/Metro/ODFare/TMRT?$filter=OriginStationID%20eq%20'".concat(t,"'%20and%20DestinationStationID%20eq%20'").concat(e,"'&$format=JSON"))}},B=Object(D["a"])({state:{fareSelection:!1,database:{},current:{},origin:"",dest:"",fare:{},stationInfo:{}},mutations:{loadData:function(t,e){t.database=e},selectedInfo:function(t,e){t.current=e},setOrigin:function(t,e){t.origin=e,console.log(t.origin)},setDest:function(t,e){t.dest=e,console.log(t.dest)},setFareSearch:function(t){t.fareSelection=!0},clearFareSearch:function(t){t.fareSelection=!1},loadFare:function(t,e){t.fare=e},loadStationInfo:function(t,e){t.stationInfo=e}},actions:{initRoute:function(){var t=this;T.getRoute().then((function(e){var c=e.data;t.commit("loadData",c)})).catch((function(t){return console.log(t)}))},showSelected:function(t,e){t.commit("selectedInfo",e)},setOrigin:function(t,e){t.commit("setOrigin",e)},setDest:function(t,e){t.commit("setDest",e)},getFare:function(t,e){T.getFare(this.state.origin,this.state.dest).then((function(c){e=c.data,t.commit("loadFare",e)}))},getStationInfo:function(t,e){T.getStationInfo(this.state.current.uid).then((function(c){e=c.data,t.commit("loadStationInfo",e)}))}},getters:{getBikesById:function(t){return function(e){return t.bikes.find((function(t){return t.sno===e}))}}},modules:{}}),P=Object(n["E"])("data-v-0a62812c");Object(n["s"])("data-v-0a62812c");var A={class:"route"},M={class:"route-map",id:"routemap"},q={class:"route-bg"};Object(n["q"])();var z=P((function(t,e,c,a,i,s){return Object(n["p"])(),Object(n["d"])("div",A,[Object(n["g"])("div",M,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(s.Routes,(function(t){return Object(n["p"])(),Object(n["d"])("div",{key:t.id},[Object(n["g"])("div",q,[Object(n["g"])("img",{src:t.path,alt:""},null,8,["src"])]),(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(t.stations,(function(e){return Object(n["p"])(),Object(n["d"])("div",{class:"route-station",key:e.id,style:{top:"".concat(e.position.top),left:"".concat(e.position.left)},onClick:function(t){return s.selectStation(e)}},[Object(n["g"])("span",{class:["route-station-dot",{hasTransit:e.transit}],style:{borderColor:"".concat(t.color)}},null,6),Object(n["g"])("div",{class:["route-station-tag","".concat(e.position.tag)]},Object(n["y"])(e.zh),3)],12,["onClick"])})),128))])})),128))])])})),J=c("7d05"),E=c.n(J),H={created:function(){},mounted:function(){this.panzoom=E()(document.querySelector("#routemap"),{bounds:!0,smoothScroll:!1,minZoom:.5,maxZoom:2,initialZoom:.75})},data:function(){return{}},methods:{selectStation:function(t){B.dispatch("showSelected",t),B.dispatch("getStationInfo")}},computed:{Routes:function(){return B.state.database}}};c("2b5b");H.render=z,H.__scopeId="data-v-0a62812c";var Z=H,$={components:{RouteMap:Z},data:function(){return{}},created:function(){B.dispatch("initRoute")},methods:{setOrigin:function(t){B.commit("setFareSearch"),B.dispatch("setOrigin",t)},setDest:function(t){B.dispatch("setDest",t),B.state.origin!==B.state.dest?(B.dispatch("getFare"),B.commit("clearFareSearch")):alert("請選擇不同的起迄站")}},computed:{current:function(){return B.state.current},setOrig:function(){return B.state.origin},fareData:function(){return B.state.fare[0]}},watch:{}};c("582c");$.render=I;var L=$,Y=(c("b0c0"),c("ca69")),K=c.n(Y),N=c("35a8"),U=c.n(N),W=c("c5c4"),G=c.n(W),Q={class:"ds-list"},V=Object(n["g"])("div",{class:"ds-list-header"},"首末班車",-1),X={class:"ds-schedule"},tt={class:"ds-schedule-via"},et={class:"ds-schedule-name"},ct={style:{display:"flex","margin-right":"16px"}},nt={class:"ds-time"},at=Object(n["g"])("span",{class:"ds-badge"},"首",-1),it={class:"ds-time"},st=Object(n["g"])("span",{class:"ds-badge"},"末",-1),rt=Object(n["g"])("div",{class:"ds-list-header"},"出入口資訊",-1),ot={class:"ds-exit"},lt={class:"ds-exit-name"},ut={class:"ds-exit-type-group"},dt={key:0,src:K.a},bt={key:1,src:U.a},ft={key:2,src:G.a},Ot=Object(n["g"])("div",{class:"ds-list-header"},"車站設施",-1),jt={class:"ds-service-img"},gt={class:"ds-service-name"},pt=Object(n["g"])("div",{class:"ds-list-footer"},null,-1);function vt(t,e,c,a,i,s){return Object(n["p"])(),Object(n["d"])("div",Q,[V,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(s.current.servicetime,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item ds-list-schedule",key:t.to},[Object(n["g"])("div",X,[Object(n["g"])("div",tt,[Object(n["g"])("img",{src:t.via},null,8,["src"])]),Object(n["g"])("div",et,[Object(n["g"])("h3",null,"往"+Object(n["y"])(t.to),1)])]),Object(n["g"])("div",ct,[Object(n["g"])("div",nt,[at,Object(n["f"])(Object(n["y"])(t.first),1)]),Object(n["g"])("div",it,[st,Object(n["f"])(Object(n["y"])(t.last),1)])])])})),128))]),rt,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(s.current.exits,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item ds-list-exit",key:t.num},[Object(n["g"])("div",ot,[Object(n["g"])("img",{class:"ds-exit-num",src:t.src,alt:""},null,8,["src"]),Object(n["g"])("div",lt,[Object(n["g"])("h3",null,Object(n["y"])(t.name),1),Object(n["g"])("p",null,Object(n["y"])(t.hints),1)])]),Object(n["g"])("div",ut,[t.stair?(Object(n["p"])(),Object(n["d"])("img",dt)):Object(n["e"])("",!0),t.escalator?(Object(n["p"])(),Object(n["d"])("img",bt)):Object(n["e"])("",!0),t.elevator?(Object(n["p"])(),Object(n["d"])("img",ft)):Object(n["e"])("",!0)])])})),128))]),Ot,Object(n["g"])("ul",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(s.current.services,(function(t){return Object(n["p"])(),Object(n["d"])("li",{class:"ds-list-item",key:t.name},[Object(n["g"])("div",jt,[Object(n["g"])("img",{src:t.src,alt:""},null,8,["src"])]),Object(n["g"])("div",gt,[Object(n["g"])("h3",null,Object(n["y"])(t.name),1),Object(n["g"])("p",null,Object(n["y"])(t.position),1)])])})),128))]),pt])}var mt={data:function(){return{}},mounted:function(){},computed:{current:function(){return B.state.stationInfo}}};c("6e81");mt.render=vt;var ht=mt,yt=(c("fb6a"),c("cd44")),St=c.n(yt),kt=Object(n["E"])("data-v-5ba597a9");Object(n["s"])("data-v-5ba597a9");var wt={class:"ds-list"},xt=Object(n["g"])("div",{class:"ds-list-header"},"停車場",-1),It=Object(n["g"])("ul",null,null,-1),Dt=Object(n["g"])("div",{class:"ds-list-header"},"iBike微笑單車",-1),Ft={class:"ds-list-item ds-list-ibike"},Rt={class:"ds-service-img",style:{display:"flex","align-items":"center"}},_t=Object(n["g"])("img",{src:St.a,alt:""},null,-1),Ct={class:"ds-service-name"},Tt={class:"ds-ibike-status"},Bt={class:"ds-ibike-rentable"},Pt=Object(n["g"])("div",{class:"ds-list-header"},"公車轉乘",-1),At=Object(n["g"])("ul",null,null,-1);Object(n["q"])();var Mt=kt((function(t,e,c,a,i,s){return Object(n["p"])(),Object(n["d"])("div",wt,[xt,It,Dt,Object(n["g"])("ul",null,[Object(n["g"])("li",Ft,[Object(n["g"])("div",Rt,[_t,Object(n["g"])("div",Ct,Object(n["y"])(s.filterBike.sna.slice(11)),1)]),Object(n["g"])("div",Tt,[Object(n["g"])("span",Bt,Object(n["y"])(s.filterBike.sbi),1),Object(n["f"])("/"+Object(n["y"])(s.filterBike.tot),1)])])]),Pt,At])})),qt={data:function(){return{}},computed:{bikes:function(){return B.state.bikes},filterBike:function(){var t=B.state.current.bike;return B.getters.getBikesById("".concat(t))}}};c("72e3");qt.render=Mt,qt.__scopeId="data-v-5ba597a9";var zt=qt,Jt=Object(n["E"])("data-v-32192260");Object(n["s"])("data-v-32192260");var Et={class:"ds-list"},Ht=Object(n["g"])("div",{class:"ds-list-header"},"票價",-1),Zt={class:"ds-list-item"},$t={class:"ds-list-item"},Lt={class:"ds-list-item"},Yt=Object(n["g"])("div",{class:"ds-list-header"},null,-1),Kt={class:"ds-list-item"};Object(n["q"])();var Nt=Jt((function(t,e,c,a,i,s){return Object(n["p"])(),Object(n["d"])("div",Et,[Ht,Object(n["g"])("ul",null,[Object(n["g"])("li",Zt,"一般票："+Object(n["y"])(s.fareData.Fares[0].Price)+"元",1),Object(n["g"])("li",$t,"敬老、愛心、陪同票："+Object(n["y"])(s.fareData.Fares[1].Price)+"元",1),Object(n["g"])("li",Lt,"電子票證："+Object(n["y"])(s.fareData.Fares[4].Price)+"元",1)]),Yt,Object(n["g"])("ul",null,[Object(n["g"])("li",Kt,Object(n["y"])(s.fareData.TravelTime)+"分鐘",1)])])})),Ut={data:function(){return{fareType:["一般","來回","電子票證","回數","定期(30天)","定期(60天)"],fareClass:["成人票","學生票","孩童票","敬老票","愛心票","愛心孩童票","愛心陪伴票","團體票"]}},computed:{fareData:function(){return B.state.fare[0]}}};Ut.render=Nt,Ut.__scopeId="data-v-32192260";var Wt=Ut,Gt=[{path:"/",name:"Home",component:L,children:[{name:"fare",path:"fare",component:Wt},{name:"facilities",path:"facilities",component:ht},{name:"transfer",path:"transfer",component:zt}]}],Qt=Object(r["a"])({history:Object(r["b"])(),routes:Gt}),Vt=Qt,Xt=(c("4674"),c("260b")),te={apiKey:"AIzaSyAh-cvnsYbIP4Oor2qj5g7FlxpJr83qWL8",authDomain:"taichungmetro-github.firebaseapp.com",projectId:"taichungmetro-github",storageBucket:"taichungmetro-github.appspot.com",messagingSenderId:"571532253123",appId:"1:571532253123:web:57b30736f2c5d13e180f76"};Xt["a"].initializeApp(te),Object(n["c"])(s).use(B).use(Vt).mount("#app")},"582c":function(t,e,c){"use strict";c("25df")},"6e81":function(t,e,c){"use strict";c("5552")},"72e3":function(t,e,c){"use strict";c("01eb")},bd0f:function(t,e,c){t.exports=c.p+"img/line-HSR.4e6684b8.svg"},c5c4:function(t,e,c){t.exports=c.p+"img/fac-elevator.1c1cec4d.svg"},ca69:function(t,e,c){t.exports=c.p+"img/fac-stair.e8a31540.svg"},cd44:function(t,e,c){t.exports=c.p+"img/ibike.0cd454c1.svg"},ce89:function(t,e,c){}});
//# sourceMappingURL=app.d9f52a01.js.map